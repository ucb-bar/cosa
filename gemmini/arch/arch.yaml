architecture:
  version: 0.3

  subtree:
  - name: System
    local:
    - name: DRAM
      class: DRAM
      attributes:
        # reduction_supported: true
        instances: 1
        word-bits: 8
        block_size: 64
        shared_bandwidth: 5.75

    subtree:
    - name: Chip
      attributes:
        technology: 40nm
      local:
      - name: Scratchpad 
        class: SRAM
        attributes:
          entries: 262144
          depth: 16384
          width: 128
          instances: 1
          meshX: 1
          word-bits: 8
          n_rdwr_ports: 1
          n_banks: 4
      - name: Accumulator
        class: SRAM
        attributes:
          entries: 16384
          depth: 1024
          width: 512
          instances: 1
          word-bits: 32
          network-word-bits: 16
          n_rdwr_ports: 2
          n_banks: 2
      subtree:
      - name: PECols[0..15]
        local:
        - name: AccumulatorExceptSpatialK
          class: SRAM
          attributes:
            vector-access-energy: 0
            entries: 1024 # acc size / pe_dim = 16384/16
            depth: 1024
            width: 32
            instances: 16
            # meshX: 16
            word-bits: 32
            network-word-bits: 16
            # cluster-size: 16
            n_rdwr_ports: 2
            n_banks: 2
        subtree:
        - name: PERows[0..15]
          local:
          - name: Registers
            class: SRAM
            attributes:
              depth: 1
              width: 8
              entries: 1
              instances: 256
              # meshX: 16
              word-bits: 8
              # cluster-size: 16
              n_rdwr_ports: 2
              n_banks: 1
          - name: MACC
            class: intmac
            attributes:
              datawidth: 8
              # meshX: 16
              word-bits: 8
